import{v as e,x as t,z as a,r,V as s,o,d as l,C as n,p as d,L as i,u,M as c,W as y,G as p,H as g,B as x,I as m,D as v,F as h,E as f}from"./vendor-vue-CxubmH21.js";import{u as w}from"./vendor-ui-Xy_LgOPl.js";import{u as b,r as k,a as P}from"./index-Dixfr0TL.js";import"./vendor-utils-DBvwmA_a.js";import"./vendor-charts-JXtrNU4K.js";function j(r,s){return t(),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}const T={class:"space-y-6"},_={class:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm border border-gray-200 dark:border-gray-700"},q={class:"flex flex-col sm:flex-row gap-4"},C={class:"relative flex-1"},E=["disabled"],L=["disabled"],M={key:0,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm"},H={class:"w-full text-sm"},S={class:"divide-y divide-gray-200 dark:divide-gray-700"},I={class:"px-6 py-3 whitespace-nowrap font-mono text-gray-700 dark:text-gray-300"},R={class:"px-6 py-3 whitespace-nowrap font-mono text-gray-700 dark:text-gray-300"},V={class:"px-6 py-3 whitespace-nowrap font-mono text-gray-700 dark:text-gray-300"},z={key:1,class:"text-center py-12"},A={__name:"Ping",setup(A){const B=b(),F=r(!1),U=r([]),Z=r(""),D=r(),G=r();let J=s(new AbortController);w(G,{initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:300}}});const K=e=>{const t=JSON.parse(e.data);let a={host:"-",seq:t.seq,ttl:"-",latency:"-",isTimeout:t.is_timeout};t.is_timeout||(a.host=t.from,a.ttl=t.ttl,a.latency=t.latency/1e6),U.value.push(a),setTimeout(()=>{const e=G.value;e&&(e.scrollTop=e.scrollHeight)},100)};o(()=>{N()});const N=()=>{B.source.removeEventListener("Ping",K),J.abort("Unmounted")},O=()=>{return e=this,t=null,a=function*(){var e;if(F.value)return N();if(Z.value.trim()){J=new AbortController,U.value=[],F.value=!0,B.source.addEventListener("Ping",K);try{yield B.requestMethod("ping",{ip:Z.value},J.signal)}catch(t){}N(),F.value=!1}else null==(e=D.value)||e.focus()},new Promise((r,s)=>{var o=e=>{try{n(a.next(e))}catch(t){s(t)}},l=e=>{try{n(a.throw(e))}catch(t){s(t)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,l);n((a=a.apply(e,t)).next())});var e,t,a};return l(()=>{var e;null==(e=D.value)||e.focus()}),(r,s)=>(t(),e("div",T,[a("div",_,[a("div",q,[a("div",C,[d(u(j),{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),i(a("input",{ref_key:"inputRef",ref:D,"onUpdate:modelValue":s[0]||(s[0]=e=>Z.value=e),disabled:F.value,type:"text",placeholder:"Enter IP address or domain name",class:"w-full pl-10 pr-4 py-3 bg-transparent border-0 rounded-xl focus:ring-0 transition-all duration-200 disabled:opacity-50 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",onKeyup:y(O,["enter"])},null,40,E),[[c,Z.value]])]),a("button",{onClick:O,disabled:!Z.value.trim(),class:p(["inline-flex items-center justify-center px-6 py-3 rounded-xl font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",F.value?"bg-red-500 hover:bg-red-600 text-white":"bg-primary-500 hover:bg-primary-600 text-white hover:shadow-lg"])},[(t(),g(m(F.value?u(k):u(P)),{class:"w-5 h-5 mr-2"})),x(" "+v(F.value?"Stop":"Start Ping"),1)],10,L)])]),U.value.length>0?(t(),e("div",M,[a("div",{class:"overflow-x-auto max-h-[30rem] overflow-y-auto",ref_key:"tableRef",ref:G},[a("table",H,[s[1]||(s[1]=a("thead",{class:"bg-gray-50 dark:bg-gray-700/50 sticky top-0 z-10"},[a("tr",null,[a("th",{class:"px-6 py-3 text-left font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Seq"),a("th",{class:"px-6 py-3 text-left font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Host"),a("th",{class:"px-6 py-3 text-left font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"TTL"),a("th",{class:"px-6 py-3 text-left font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Latency")])],-1)),a("tbody",S,[(t(!0),e(h,null,f(U.value,(r,s)=>{return t(),e("tr",{key:s,class:p(["hover:bg-gray-50/50 dark:hover:bg-gray-700/30 transition-colors duration-150",{"bg-red-50/50 dark:bg-red-900/20":r.isTimeout}])},[a("td",I,v(r.seq),1),a("td",R,v(r.host),1),a("td",V,v(r.ttl),1),a("td",{class:p(["px-6 py-3 whitespace-nowrap font-mono font-semibold",(o=r.latency,"-"===o?"text-red-500 dark:text-red-400":o<50?"text-green-600 dark:text-green-400":o<100?"text-yellow-600 dark:text-yellow-400":"text-orange-500 dark:text-orange-400")])},v("-"===r.latency?"Timeout":`${r.latency.toFixed(2)} ms`),3)],2);var o}),128))])])],512)])):F.value?n("",!0):(t(),e("div",z,[d(u(j),{class:"w-16 h-16 text-gray-400/50 dark:text-gray-500/50 mx-auto mb-4"}),s[2]||(s[2]=a("h3",{class:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2"},"Ready to Ping",-1)),s[3]||(s[3]=a("p",{class:"text-gray-500 dark:text-gray-400"},"Enter a hostname or IP address to start testing connectivity.",-1))]))]))}};export{A as default};
